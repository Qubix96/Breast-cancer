new_col <- as.character(eval(parse(text = col_tab)))
for (i in eval(parse(text = col_tab))) {
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
}
}
eval(parse(text = paste0(col,"$",tab,"<-b")))
print(new_col)
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
fourth_analysis <- first_analysis %>%
select(ICGC_DONOR_ID, RELATIONSHIP_DISEASE, RELATIONSHIP_TYPE_OTHER, DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY) %>%
filter(DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY == "yes") %>%
mutate(RELATIONSHIP_DISEASE = as.factor(RELATIONSHIP_DISEASE)) %>%
mutate(RELATIONSHIP_TYPE_OTHER = as.factor(RELATIONSHIP_TYPE_OTHER)) %>%
drop_na
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
c <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
new_col <- data.frame()
new_col <- as.character(eval(parse(text = col_tab)))
for (i in eval(parse(text = col_tab))) {
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
}
}
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
print(new_col)
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
new_col
new_col <- factor()
c <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
new_col <- factor()
new_col <- as.character(eval(parse(text = col_tab)))
for (i in eval(parse(text = col_tab))) {
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
}
}
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
print(new_col)
}
new_col
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
c <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
new_col <- factor()
new_col <- as.character(eval(parse(text = col_tab)))
for (i in eval(parse(text = col_tab))) {
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
}
print(new_col)
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
eval(parse(text = paste0(f,"$",w,"<-b")))
c <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
new_col <- factor()
new_col <- as.character(eval(parse(text = col_tab)))
for (i in eval(parse(text = col_tab))) {
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
}
print(new_col)
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
fourth_analysis <- first_analysis %>%
select(ICGC_DONOR_ID, RELATIONSHIP_DISEASE, RELATIONSHIP_TYPE_OTHER, DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY) %>%
filter(DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY == "yes") %>%
mutate(RELATIONSHIP_DISEASE = as.factor(RELATIONSHIP_DISEASE)) %>%
mutate(RELATIONSHIP_TYPE_OTHER = as.factor(RELATIONSHIP_TYPE_OTHER)) %>%
drop_na
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
c <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
new_col <- factor()
new_col <- as.character(eval(parse(text = col_tab)))
for (i in eval(parse(text = col_tab))) {
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
}
return(new_col)
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
c <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
new_col <- factor()
new_col <- as.character(eval(parse(text = col_tab)))
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
for (i in eval(parse(text = col_tab))) {
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
}
}
return(new_col)
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
c <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- factor()
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
}
return(new_col)
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
c <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- c(mode = "character")
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
}
return(new_col)
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
c <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
return(new_col)
}
}
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
c <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
return(new_col)
}
}
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
return(new_col)
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
new_col
fourth_analysis <- first_analysis %>%
select(ICGC_DONOR_ID, RELATIONSHIP_DISEASE, RELATIONSHIP_TYPE_OTHER, DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY) %>%
filter(DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY == "yes") %>%
mutate(RELATIONSHIP_DISEASE = as.factor(RELATIONSHIP_DISEASE)) %>%
mutate(RELATIONSHIP_TYPE_OTHER = as.factor(RELATIONSHIP_TYPE_OTHER)) %>%
drop_na
c <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
}
}
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
c("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
funkcja <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
}
}
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
eval(parse(text = paste0(f,"$",w,"<-b")))
View(fourth_analysis)
funkcja <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
}
}
print(new_col)
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
funkcja <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
}
print(new_col)
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
fourth_analysis <- first_analysis %>%
select(ICGC_DONOR_ID, RELATIONSHIP_DISEASE, RELATIONSHIP_TYPE_OTHER, DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY) %>%
filter(DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY == "yes") %>%
mutate(RELATIONSHIP_DISEASE = as.factor(RELATIONSHIP_DISEASE)) %>%
mutate(RELATIONSHIP_TYPE_OTHER = as.factor(RELATIONSHIP_TYPE_OTHER)) %>%
drop_na
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
funkcja <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
}
}
new_col <- new_col
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
funkcja <- function(col,tab,before,after,new_col){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
}
}
new_col <- as.character(new_col)
eval(parse(text = paste0(col,"$",tab,"<-new_col")))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
}
}
new_col <- as.character(new_col)
eval(parse(text = paste0(col,"$",tab,"<-",new_col)))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
new_col <- as.factor(new_col)
return(new_col)
}
}
new_col <- as.character(new_col)
eval(parse(text = paste0(col,"$",tab,"<-",new_col)))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
output <- as.character(new_col)
}
}
eval(parse(text = paste0(col,"$",tab,"<-output")))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
output <- as.character(new_col)
}
}
print(typeof(output))
eval(parse(text = paste0(col,"$",tab,"<-output")))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
new_col <- as.character(eval(parse(text = col_tab)))
g <- grepl(before, i)
if (g == T) {
new_col[new_col %in% i] <- after
output <- as.character(new_col)
}
eval(parse(text = paste0(col,"$",tab,"<-output")))
}
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
# new_col <- as.character(eval(parse(text = col_tab)))
eval(parse(text = paste0(col,"$",tab,"<-as.character(",col,"$",tab,")")))
g <- grepl(before, i)
if (g == T) {
# new_col[new_col %in% i] <- after
# output <- as.character(new_col)
eval(parse(text = paste0(col,"$",tab,"[",col,"$",tab,"%in% i] <-",after)))
}
# eval(parse(text = paste0(col,"$",tab,"<-output")))
}
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
# new_col <- as.character(eval(parse(text = col_tab)))
eval(parse(text = paste0(col,"$",tab,"<-as.character(",col,"$",tab,")")))
g <- grepl(before, i)
if (g == T) {
# new_col[new_col %in% i] <- after
# output <- as.character(new_col)
eval(parse(text = paste0(col,"$",tab,"[",col,"$",tab,"%in% i] <-after")))
}
# eval(parse(text = paste0(col,"$",tab,"<-output")))
}
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
# new_col <- as.character(eval(parse(text = col_tab)))
eval(parse(text = paste0(col,"$",tab,"<-as.character(",col,"$",tab,")")))
g <- grepl(before, i)
if (g == T) {
# new_col[new_col %in% i] <- after
# output <- as.character(new_col)
eval(parse(text = paste0(col,"$",tab,"[",col,"$",tab,"%in% i] <-after")))
}
# eval(parse(text = paste0(col,"$",tab,"<-output")))
}
return(eval(parse(text = paste0(col,"$",tab))))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
# new_col <- as.character(eval(parse(text = col_tab)))
eval(parse(text = paste0(col,"$",tab,"<-as.character(",col,"$",tab,")")))
g <- grepl(before, i)
if (g == T) {
# new_col[new_col %in% i] <- after
# output <- as.character(new_col)
eval(parse(text = paste0(col,"$",tab,"[",col,"$",tab,"%in% i] <-after")))
}
# eval(parse(text = paste0(col,"$",tab,"<-output")))
}
return(eval(parse(text = paste0(col,"$",tab))))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
View(fourth_analysis)
View(funkcja)
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
# new_col <- as.character(eval(parse(text = col_tab)))
eval(parse(text = paste0(col,"$",tab,"<<-as.character(",col,"$",tab,")")))
g <- grepl(before, i)
if (g == T) {
# new_col[new_col %in% i] <- after
# output <- as.character(new_col)
eval(parse(text = paste0(col,"$",tab,"[",col,"$",tab,"%in% i] <<-after")))
}
# eval(parse(text = paste0(col,"$",tab,"<-output")))
}
return(eval(parse(text = paste0(col,"$",tab))))
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
eval(parse(text = paste0(col,"$",tab,"<-as.character(",col,"$",tab,")")))
g <- grepl(before, i)
if (g == T) {
eval(parse(text = paste0(col,"$",tab,"[",col,"$",tab,"%in% i] <<-after")))
}
}
pritn("Done")
}
fourth_analysis <- first_analysis %>%
select(ICGC_DONOR_ID, RELATIONSHIP_DISEASE, RELATIONSHIP_TYPE_OTHER, DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY) %>%
filter(DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY == "yes") %>%
mutate(RELATIONSHIP_DISEASE = as.factor(RELATIONSHIP_DISEASE)) %>%
mutate(RELATIONSHIP_TYPE_OTHER = as.factor(RELATIONSHIP_TYPE_OTHER)) %>%
drop_na
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
eval(parse(text = paste0(col,"$",tab,"<<-as.character(",col,"$",tab,")")))
g <- grepl(before, i)
if (g == T) {
eval(parse(text = paste0(col,"$",tab,"[",col,"$",tab,"%in% i] <<-after")))
}
}
eval(parse(text = paste0(col,"$",tab,"<<-as.factor(",col,"$",tab,")")))
pritn("Done")
}
fourth_analysis <- first_analysis %>%
select(ICGC_DONOR_ID, RELATIONSHIP_DISEASE, RELATIONSHIP_TYPE_OTHER, DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY) %>%
filter(DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY == "yes") %>%
mutate(RELATIONSHIP_DISEASE = as.factor(RELATIONSHIP_DISEASE)) %>%
mutate(RELATIONSHIP_TYPE_OTHER = as.factor(RELATIONSHIP_TYPE_OTHER)) %>%
drop_na
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
funkcja <- function(col,tab,before,after){
col_tab <- paste0(col,"$",tab)
for (i in eval(parse(text = col_tab))) {
eval(parse(text = paste0(col,"$",tab,"<<-as.character(",col,"$",tab,")")))
g <- grepl(before, i)
if (g == T) {
eval(parse(text = paste0(col,"$",tab,"[",col,"$",tab,"%in% i] <<-after")))
}
}
eval(parse(text = paste0(col,"$",tab,"<<-as.factor(",col,"$",tab,")")))
print("Done")
}
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "lol")
View(fourth_analysis)
fourth_analysis <- first_analysis %>%
select(ICGC_DONOR_ID, RELATIONSHIP_DISEASE, RELATIONSHIP_TYPE_OTHER, DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY) %>%
filter(DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY == "yes") %>%
mutate(RELATIONSHIP_DISEASE = as.factor(RELATIONSHIP_DISEASE)) %>%
mutate(RELATIONSHIP_TYPE_OTHER = as.factor(RELATIONSHIP_TYPE_OTHER)) %>%
drop_na
funkcja("fourth_analysis","RELATIONSHIP_DISEASE", "breast", "Breast cancer")
View(fourth_analysis)
funkcja("fourth_analysis","DONOR_HAS_RELATIVE_WITH_CANCER_HISTORY", "ye", "dupa")
View(fourth_analysis)
load("E:/GIT/Breast cancer/Breast-cancer/.RData")
load("E:/GIT/Breast cancer/Breast-cancer/.RData")
